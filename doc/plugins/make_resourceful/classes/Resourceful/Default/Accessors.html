<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Module: Resourceful::Default::Accessors</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Module</strong></td>
          <td class="class-name-in-header">Resourceful::Default::Accessors</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../../files/vendor/plugins/make_resourceful/lib/resourceful/default/accessors_rb.html">
                vendor/plugins/make_resourceful/lib/resourceful/default/accessors.rb
                </a>
        <br />
            </td>
        </tr>

        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
This module contains all sorts of useful methods that allow access to the
resources being worked with, metadata about the controller and action, and
so forth.
</p>
<p>
Many of these accessors call other accessors and are called by the default
make_resourceful <a href="Actions.html">actions</a>. This means that
overriding one method can affect everything else.
</p>
<p>
This can be dangerous, but it can also be very powerful. make_resourceful
is designed to take advantage of overriding, so as long as the new methods
accomplish the same purpose as the old ones, everything will just work.
Even if you make a small mistake, it&#8216;s hard to break the controller
in any unexpected ways.
</p>
<p>
For example, suppose your controller is called TagsController, but your
model is called PhotoTag. All you have to do is override <a
href="Accessors.html#M000010">current_model_name</a>:
</p>
<pre>
  def current_model_name
    &quot;PhotoTag&quot;
  end
</pre>
<p>
Then <a href="Accessors.html#M000013">current_model</a> will return the
PhotoTag model, <a href="Accessors.html#M000007">current_object</a> will
call <tt>PhotoTag.find</tt>, and so forth.
</p>
<p>
Overriding <a href="Accessors.html#M000005">current_objects</a> and <a
href="Accessors.html#M000007">current_object</a> is particularly useful for
providing customized model lookup logic.
</p>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000009">build_object</a>&nbsp;&nbsp;
      <a href="#M000013">current_model</a>&nbsp;&nbsp;
      <a href="#M000010">current_model_name</a>&nbsp;&nbsp;
      <a href="#M000007">current_object</a>&nbsp;&nbsp;
      <a href="#M000005">current_objects</a>&nbsp;&nbsp;
      <a href="#M000021">ensure_parent_exists</a>&nbsp;&nbsp;
      <a href="#M000012">instance_variable_name</a>&nbsp;&nbsp;
      <a href="#M000008">load_object</a>&nbsp;&nbsp;
      <a href="#M000006">load_objects</a>&nbsp;&nbsp;
      <a href="#M000020">load_parent_object</a>&nbsp;&nbsp;
      <a href="#M000011">namespaces</a>&nbsp;&nbsp;
      <a href="#M000014">object_parameters</a>&nbsp;&nbsp;
      <a href="#M000016">parent?</a>&nbsp;&nbsp;
      <a href="#M000018">parent_model</a>&nbsp;&nbsp;
      <a href="#M000017">parent_name</a>&nbsp;&nbsp;
      <a href="#M000015">parent_names</a>&nbsp;&nbsp;
      <a href="#M000019">parent_object</a>&nbsp;&nbsp;
      <a href="#M000028">plural?</a>&nbsp;&nbsp;
      <a href="#M000025">plural_action?</a>&nbsp;&nbsp;
      <a href="#M000024">save_failed!</a>&nbsp;&nbsp;
      <a href="#M000023">save_succeeded!</a>&nbsp;&nbsp;
      <a href="#M000022">save_succeeded?</a>&nbsp;&nbsp;
      <a href="#M000027">singular?</a>&nbsp;&nbsp;
      <a href="#M000026">singular_action?</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">





      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000009" class="method-detail">
        <a name="M000009"></a>

        <div class="method-heading">
          <a href="#M000009" class="method-signature">
          <span class="method-name">build_object</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Creates a new object of the type of the current model with the current
object&#8216;s parameters. <tt><a
href="Accessors.html#M000007">current_object</a></tt> then returns this
object for this action instead of looking up a new object.
</p>
<p>
This is called automatically by the default make_resourceful actions. You
shouldn&#8216;t need to use it directly unless you&#8216;re creating a new
action.
</p>
<p>
Note that if a parent object exists, the newly created object will
automatically be a child of the parent object. For example, on POST
/people/4/things,
</p>
<pre>
  build_object
  current_object.person.id #=&gt; 4
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000009-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000009-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/make_resourceful/lib/resourceful/default/accessors.rb, line 124</span>
124:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">build_object</span>
125:         <span class="ruby-ivar">@current_object</span> = <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">current_model</span>.<span class="ruby-identifier">respond_to?</span> <span class="ruby-identifier">:build</span>
126:           <span class="ruby-identifier">current_model</span>.<span class="ruby-identifier">build</span>(<span class="ruby-identifier">object_parameters</span>)
127:         <span class="ruby-keyword kw">else</span>
128:           <span class="ruby-identifier">returning</span>(<span class="ruby-identifier">current_model</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">object_parameters</span>)) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">obj</span><span class="ruby-operator">|</span>
129:             <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">send</span>(<span class="ruby-node">&quot;#{parent_name}_id=&quot;</span>, <span class="ruby-identifier">parent_object</span>.<span class="ruby-identifier">id</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">singular?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">parent?</span>
130:           <span class="ruby-keyword kw">end</span>
131:         <span class="ruby-keyword kw">end</span>
132:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000013" class="method-detail">
        <a name="M000013"></a>

        <div class="method-heading">
          <a href="#M000013" class="method-signature">
          <span class="method-name">current_model</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
The class of the current model. Note that if a parent object exists, this
instead returns the association object. For example, in HatsController
where Person has_many :hats,
</p>
<pre>
  current_model #=&gt; Person.find(params[:person_id]).hats
</pre>
<p>
This is useful because the association object uses duck typing to act like
a model class. It supplies a find method that&#8216;s automatically scoped
to ensure that the object returned is actually a child of the parent, and
so forth.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000013-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000013-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/make_resourceful/lib/resourceful/default/accessors.rb, line 166</span>
166:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">current_model</span>
167:         <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">parent?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">singular?</span>
168:           <span class="ruby-identifier">current_model_name</span>.<span class="ruby-identifier">constantize</span>
169:         <span class="ruby-keyword kw">else</span>
170:           <span class="ruby-identifier">parent_object</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">instance_variable_name</span>)
171:         <span class="ruby-keyword kw">end</span>
172:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000010" class="method-detail">
        <a name="M000010"></a>

        <div class="method-heading">
          <a href="#M000010" class="method-signature">
          <span class="method-name">current_model_name</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
The string name of the current model. By default, this is derived from the
name of the controller.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000010-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000010-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/make_resourceful/lib/resourceful/default/accessors.rb, line 136</span>
136:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">current_model_name</span>
137:         <span class="ruby-identifier">controller_name</span>.<span class="ruby-identifier">singularize</span>.<span class="ruby-identifier">camelize</span>
138:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000007" class="method-detail">
        <a name="M000007"></a>

        <div class="method-heading">
          <a href="#M000007" class="method-signature">
          <span class="method-name">current_object</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns the object referenced by the id parameter (or the newly-created
object for the <tt>new</tt> and <tt>create</tt> actions). For
UsersController, it essentially runs <tt>User.find(params[:id])</tt>.
</p>
<p>
However, there are a few important differences. First, this method caches
is results in the <tt>@<a
href="Accessors.html#M000005">current_objects</a></tt> instance variable.
That way, multiple calls won&#8216;t run multiple queries.
</p>
<p>
Second, this method uses the <a
href="Accessors.html#M000013">current_model</a> accessor, which provides a
lot of flexibility (see the documentation for <a
href="Accessors.html#M000013">current_model</a> for details).
</p>
<p>
Note that this is different for a singleton controller, where there&#8216;s
only one resource per parent resource. Then this just returns that
resource. For example, if Person has_one Hat, then in HatsController <a
href="Accessors.html#M000007">current_object</a> essentially runs
<tt>Person.find(params[:person_id]).hat</tt>.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000007-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000007-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/plugins/make_resourceful/lib/resourceful/default/accessors.rb, line 87</span>
87:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">current_object</span>
88:         <span class="ruby-ivar">@current_object</span> <span class="ruby-operator">||=</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">plural?</span>
89:           <span class="ruby-identifier">current_model</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
90:         <span class="ruby-keyword kw">else</span>
91:           <span class="ruby-identifier">parent_object</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">instance_variable_name</span>)
92:         <span class="ruby-keyword kw">end</span>
93:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000005" class="method-detail">
        <a name="M000005"></a>

        <div class="method-heading">
          <a href="#M000005" class="method-signature">
          <span class="method-name">current_objects</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns an array of all the objects of the model corresponding to the
controller. For UsersController, it essentially runs
<tt>User.find(:all)</tt>.
</p>
<p>
However, there are a few important differences. First, this method caches
is results in the <tt>@<a
href="Accessors.html#M000005">current_objects</a></tt> instance variable.
That way, multiple calls won&#8216;t run multiple queries.
</p>
<p>
Second, this method uses the <a
href="Accessors.html#M000013">current_model</a> accessor, which provides a
lot of flexibility (see the documentation for <a
href="Accessors.html#M000013">current_model</a> for details).
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000005-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000005-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/plugins/make_resourceful/lib/resourceful/default/accessors.rb, line 53</span>
53:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">current_objects</span>
54:         <span class="ruby-ivar">@current_objects</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">current_model</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>)
55:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000021" class="method-detail">
        <a name="M000021"></a>

        <div class="method-heading">
          <a href="#M000021" class="method-signature">
          <span class="method-name">ensure_parent_exists</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Renders a 422 error if no parent id is given. This is meant to be used with
before_filter to ensure that some actions are only called with a parent id.
For example:
</p>
<pre>
  before_filter :ensure_parent_exists, :only =&gt; [:create, :update]
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000021-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000021-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/make_resourceful/lib/resourceful/default/accessors.rb, line 284</span>
284:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ensure_parent_exists</span>
285:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">parent?</span>
286:         <span class="ruby-identifier">render</span> <span class="ruby-identifier">:text</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'No parent id given'</span>, <span class="ruby-identifier">:status</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">422</span>
287:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">false</span>
288:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000012" class="method-detail">
        <a name="M000012"></a>

        <div class="method-heading">
          <a href="#M000012" class="method-signature">
          <span class="method-name">instance_variable_name</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
The name of the instance variable that <a
href="Accessors.html#M000008">load_object</a> and <a
href="Accessors.html#M000006">load_objects</a> should assign to.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000012-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000012-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/make_resourceful/lib/resourceful/default/accessors.rb, line 150</span>
150:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">instance_variable_name</span>
151:         <span class="ruby-identifier">controller_name</span>
152:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000008" class="method-detail">
        <a name="M000008"></a>

        <div class="method-heading">
          <a href="#M000008" class="method-signature">
          <span class="method-name">load_object</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Calls <a href="Accessors.html#M000007">current_object</a> and stores the
result in an instance variable named after the controller.
</p>
<p>
This is called automatically by the default make_resourceful actions. You
shouldn&#8216;t need to use it directly unless you&#8216;re creating a new
action.
</p>
<p>
For example, in UsersController, calling <tt><a
href="Accessors.html#M000008">load_object</a></tt> sets <tt>@user = <a
href="Accessors.html#M000007">current_object</a></tt>.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000008-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000008-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/make_resourceful/lib/resourceful/default/accessors.rb, line 105</span>
105:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">load_object</span>
106:         <span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-node">&quot;@#{instance_variable_name.singularize}&quot;</span>, <span class="ruby-identifier">current_object</span>)
107:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000006" class="method-detail">
        <a name="M000006"></a>

        <div class="method-heading">
          <a href="#M000006" class="method-signature">
          <span class="method-name">load_objects</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Calls <a href="Accessors.html#M000005">current_objects</a> and stores the
result in an instance variable named after the controller.
</p>
<p>
This is called automatically by the default make_resourceful actions. You
shouldn&#8216;t need to use it directly unless you&#8216;re creating a new
action.
</p>
<p>
For example, in UsersController, calling <tt><a
href="Accessors.html#M000006">load_objects</a></tt> sets <tt>@users = <a
href="Accessors.html#M000005">current_objects</a></tt>.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000006-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000006-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/plugins/make_resourceful/lib/resourceful/default/accessors.rb, line 66</span>
66:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">load_objects</span>
67:         <span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-node">&quot;@#{instance_variable_name}&quot;</span>, <span class="ruby-identifier">current_objects</span>)
68:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000020" class="method-detail">
        <a name="M000020"></a>

        <div class="method-heading">
          <a href="#M000020" class="method-signature">
          <span class="method-name">load_parent_object</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Assigns the current parent object, as given by parent_objects, to its
proper instance variable, as given by <a
href="Accessors.html#M000017">parent_name</a>.
</p>
<p>
This is automatically added as a before_filter. You shouldn&#8216;t need to
use it directly unless you&#8216;re creating a new action.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000020-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000020-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/make_resourceful/lib/resourceful/default/accessors.rb, line 273</span>
273:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">load_parent_object</span>
274:         <span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-node">&quot;@#{parent_name}&quot;</span>, <span class="ruby-identifier">parent_object</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">parent?</span>
275:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000011" class="method-detail">
        <a name="M000011"></a>

        <div class="method-heading">
          <a href="#M000011" class="method-signature">
          <span class="method-name">namespaces</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
An array of <a href="Accessors.html#M000011">namespaces</a> under which the
current controller is. For example, in Admin::Content::PagesController:
</p>
<pre>
  namespaces #=&gt; [:admin, :content]
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000011-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000011-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/make_resourceful/lib/resourceful/default/accessors.rb, line 145</span>
145:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">namespaces</span>
146:         <span class="ruby-ivar">@namespaces</span> <span class="ruby-operator">||=</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">name</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">'::'</span>).<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-value">-1</span>).<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">:underscore</span>).<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">:to_sym</span>)
147:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000014" class="method-detail">
        <a name="M000014"></a>

        <div class="method-heading">
          <a href="#M000014" class="method-signature">
          <span class="method-name">object_parameters</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns the hash passed as HTTP parameters that defines the new (or
updated) attributes of the current object. This is only meaningful for
<tt>create</tt> or <tt>update</tt>.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000014-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000014-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/make_resourceful/lib/resourceful/default/accessors.rb, line 178</span>
178:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">object_parameters</span>
179:         <span class="ruby-identifier">params</span>[<span class="ruby-identifier">current_model_name</span>.<span class="ruby-identifier">underscore</span>]
180:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000016" class="method-detail">
        <a name="M000016"></a>

        <div class="method-heading">
          <a href="#M000016" class="method-signature">
          <span class="method-name">parent?</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns true if an appropriate parent id parameter has been supplied. For
example, in HatsController where Rack has_many :hats and Person has_many
:hats, if <tt>params[:rack_id]</tt> or <tt>params[:person_id]</tt> is
given,
</p>
<pre>
  parent? #=&gt; true
</pre>
<p>
Otherwise, if both <tt>params[:rack_id]</tt> and <tt>params[:rack_id]</tt>
are nil,
</p>
<pre>
  parent? #=&gt; false
</pre>
<p>
Note that parents must be declared via <a
href="../Builder.html#M000069">Builder#belongs_to</a>.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000016-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000016-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/make_resourceful/lib/resourceful/default/accessors.rb, line 204</span>
204:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">parent?</span>
205:         <span class="ruby-operator">!</span><span class="ruby-operator">!</span><span class="ruby-identifier">parent_name</span>
206:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000018" class="method-detail">
        <a name="M000018"></a>

        <div class="method-heading">
          <a href="#M000018" class="method-signature">
          <span class="method-name">parent_model</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns the model class of the current parent. For example, in
HatsController where Person has_many :hats, if <tt>params[:person_id]</tt>
is given,
</p>
<pre>
  parent_models #=&gt; Rack
</pre>
<p>
Note that parents must be declared via <a
href="../Builder.html#M000069">Builder#belongs_to</a>.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000018-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000018-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/make_resourceful/lib/resourceful/default/accessors.rb, line 250</span>
250:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">parent_model</span>
251:         <span class="ruby-identifier">parent_name</span>.<span class="ruby-identifier">camelize</span>.<span class="ruby-identifier">constantize</span>
252:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000017" class="method-detail">
        <a name="M000017"></a>

        <div class="method-heading">
          <a href="#M000017" class="method-signature">
          <span class="method-name">parent_name</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns the name of the current parent object if a parent id is given, or
nil otherwise. For example, in HatsController where Rack has_many :hats and
Person has_many :hats, if <tt>params[:rack_id]</tt> is given,
</p>
<pre>
  parent_name #=&gt; &quot;rack&quot;
</pre>
<p>
If <tt>params[:person_id]</tt> is given,
</p>
<pre>
  parent_name #=&gt; &quot;person&quot;
</pre>
<p>
If both <tt>params[:rack_id]</tt> and <tt>params[:rack_id]</tt> are nil,
</p>
<pre>
  parent_name #=&gt; nil
</pre>
<p>
There are several things to note about this method. First, make_resourceful
only supports single-level model nesting. Thus, if neither
<tt>params[:rack_id]</tt> nor <tt>params[:rack_id]</tt> are nil, the return
value of <tt><a href="Accessors.html#M000017">parent_name</a></tt> is
undefined.
</p>
<p>
Second, don&#8216;t use <a href="Accessors.html#M000017">parent_name</a> to
check whether a parent id is given. It&#8216;s better to use the more
semantic <a href="Accessors.html#M000016">parent?</a> method.
</p>
<p>
Third, <a href="Accessors.html#M000017">parent_name</a> caches its return
value in the <tt>@<a href="Accessors.html#M000017">parent_name</a></tt>
variable, which you should keep in mind if you&#8216;re overriding it.
However, because <tt>@<a href="Accessors.html#M000017">parent_name</a> ==
nil</tt> could mean that there is no parent <em>or</em> that the method
hasn&#8216;t been run yet, it uses <tt>defined?(@<a
href="Accessors.html#M000017">parent_name</a>)</tt> to do the caching
rather than <tt>@<a href="Accessors.html#M000017">parent_name</a> ||=</tt>.
See the source code.
</p>
<p>
Finally, note that parents must be declared via <a
href="../Builder.html#M000069">Builder#belongs_to</a>.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000017-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000017-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/make_resourceful/lib/resourceful/default/accessors.rb, line 238</span>
238:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">parent_name</span>
239:         <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@parent_name</span> <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">defined?</span>(<span class="ruby-ivar">@parent_name</span>)
240:         <span class="ruby-ivar">@parent_name</span> = <span class="ruby-identifier">parent_names</span>.<span class="ruby-identifier">find</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span> <span class="ruby-identifier">params</span>[<span class="ruby-node">&quot;#{name}_id&quot;</span>] }
241:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000015" class="method-detail">
        <a name="M000015"></a>

        <div class="method-heading">
          <a href="#M000015" class="method-signature">
          <span class="method-name">parent_names</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns a list of the names of all the potential parents of the current
model. For a non-nested controller, this is <tt>[]</tt>. For example, in
HatsController where Rack has_many :hats and Person has_many :hats,
</p>
<pre>
  parents #=&gt; [&quot;rack&quot;, &quot;person&quot;]
</pre>
<p>
Note that the parents must be declared via <a
href="../Builder.html#M000069">Builder#belongs_to</a>.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000015-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000015-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/make_resourceful/lib/resourceful/default/accessors.rb, line 189</span>
189:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">parent_names</span>
190:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">read_inheritable_attribute</span> <span class="ruby-identifier">:parents</span>
191:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000019" class="method-detail">
        <a name="M000019"></a>

        <div class="method-heading">
          <a href="#M000019" class="method-signature">
          <span class="method-name">parent_object</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns the current parent object for the current object. For example, in
HatsController where Person has_many :hats, if <tt>params[:person_id]</tt>
is given,
</p>
<pre>
  parent_object #=&gt; Person.find(params[:person_id])
</pre>
<p>
Note that parents must be declared via <a
href="../Builder.html#M000069">Builder#belongs_to</a>.
</p>
<p>
Note also that the results of this method are cached so that multiple calls
don&#8216;t result in multiple SQL queries.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000019-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000019-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/make_resourceful/lib/resourceful/default/accessors.rb, line 264</span>
264:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">parent_object</span>
265:         <span class="ruby-ivar">@parent_object</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">parent_model</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-node">&quot;#{parent_name}_id&quot;</span>])
266:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000028" class="method-detail">
        <a name="M000028"></a>

        <div class="method-heading">
          <a href="#M000028" class="method-signature">
          <span class="method-name">plural?</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns whether the controller is a normal plural controller, implying that
there are multiple resources for each parent resource.
</p>
<p>
Note that the way this is determined is based on the singularity of the
controller name, so it may yield false negatives for oddly-named
controllers. If this is the case, the <a
href="Accessors.html#M000027">singular?</a> method should be overridden.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000028-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000028-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/make_resourceful/lib/resourceful/default/accessors.rb, line 341</span>
341:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">plural?</span>
342:         <span class="ruby-operator">!</span><span class="ruby-identifier">singular?</span>
343:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000025" class="method-detail">
        <a name="M000025"></a>

        <div class="method-heading">
          <a href="#M000025" class="method-signature">
          <span class="method-name">plural_action?</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns whether or not the current action acts upon multiple objects. By
default, the only such action is <tt>index</tt>.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000025-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000025-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/make_resourceful/lib/resourceful/default/accessors.rb, line 316</span>
316:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">plural_action?</span>
317:         <span class="ruby-constant">PLURAL_ACTIONS</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:action</span>].<span class="ruby-identifier">to_sym</span>)
318:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000024" class="method-detail">
        <a name="M000024"></a>

        <div class="method-heading">
          <a href="#M000024" class="method-signature">
          <span class="method-name">save_failed!</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Declares that the current databse update was not completed successfully.
Causes subsequent calls to <tt><a
href="Accessors.html#M000022">save_succeeded?</a></tt> to return
<tt>false</tt>.
</p>
<p>
This is mostly meant to be used by the default actions, but it can be used
by user-defined actions as well.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000024-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000024-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/make_resourceful/lib/resourceful/default/accessors.rb, line 310</span>
310:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">save_failed!</span>
311:         <span class="ruby-ivar">@save_succeeded</span> = <span class="ruby-keyword kw">false</span>
312:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000023" class="method-detail">
        <a name="M000023"></a>

        <div class="method-heading">
          <a href="#M000023" class="method-signature">
          <span class="method-name">save_succeeded!</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Declares that the current databse update was completed successfully. Causes
subsequent calls to <tt><a
href="Accessors.html#M000022">save_succeeded?</a></tt> to return
<tt>true</tt>.
</p>
<p>
This is mostly meant to be used by the default actions, but it can be used
by user-defined actions as well.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000023-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000023-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/make_resourceful/lib/resourceful/default/accessors.rb, line 301</span>
301:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">save_succeeded!</span>
302:         <span class="ruby-ivar">@save_succeeded</span> = <span class="ruby-keyword kw">true</span>
303:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000022" class="method-detail">
        <a name="M000022"></a>

        <div class="method-heading">
          <a href="#M000022" class="method-signature">
          <span class="method-name">save_succeeded?</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns whether or not the database update in the <tt>create</tt>,
<tt>update</tt>, and <tt>destroy</tt> was completed successfully.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000022-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000022-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/make_resourceful/lib/resourceful/default/accessors.rb, line 292</span>
292:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">save_succeeded?</span>
293:         <span class="ruby-ivar">@save_succeeded</span>
294:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000027" class="method-detail">
        <a name="M000027"></a>

        <div class="method-heading">
          <a href="#M000027" class="method-signature">
          <span class="method-name">singular?</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns whether the controller is a singleton, implying that there is only
one such resource for each parent resource.
</p>
<p>
Note that the way this is determined is based on the singularity of the
controller name, so it may yield false positives for oddly-named
controllers and need to be overridden.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000027-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000027-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/make_resourceful/lib/resourceful/default/accessors.rb, line 331</span>
331:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">singular?</span>
332:         <span class="ruby-identifier">instance_variable_name</span>.<span class="ruby-identifier">singularize</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">instance_variable_name</span>
333:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000026" class="method-detail">
        <a name="M000026"></a>

        <div class="method-heading">
          <a href="#M000026" class="method-signature">
          <span class="method-name">singular_action?</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns whether or not the current action acts upon a single object. By
default, this is the case for all actions but <tt>index</tt>.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000026-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000026-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/make_resourceful/lib/resourceful/default/accessors.rb, line 322</span>
322:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">singular_action?</span>
323:         <span class="ruby-operator">!</span><span class="ruby-identifier">plural_action?</span>
324:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>